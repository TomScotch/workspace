# This defines the rules on how to build parts of ConceptNet, using the
# Ninja build system:
#
#   http://martine.github.io/ninja/manual.html
#
# Ninja is available in the 'ninja-build' Ubuntu package. It's like make with
# better parallelism and the ability for build steps to produce multiple
# outputs. The tradeoff is that its rule syntax isn't full of magic for
# expanding wildcards and finding dependencies, so in general you have to
# write the dependencies using a script.
#
# This file will become the header of the larger build.ninja file, which also
# contains the programatically-defined dependency graph.

pool memory_hogs
  depth = 1

rule rebuild_ninja
  command = python -m ninja

rule download
  command = python setup.py nltk_download && mkdir -p $prefix && curl -o $out $url

rule extract_tar
  command = tar -xvf $in

rule extract_wiktionary
  command = python -m conceptnet5.readers.extract_wiktionary $in $dir -l $lang && cd conceptnet5/wiktparse && eval "make ${lang}_parser.py"

rule parse
  command = python -m conceptnet5.readers.$parser $in $out

rule parse_globalmind
  command = python -m conceptnet5.readers.globalmind $$(dirname $$(echo $in | cut -d ' ' -f1)) $out

rule parse_dbpedia
  command =python -m conceptnet5.readers.dbpedia $in $out

rule parse_sw
  command = mkdir -p $prefix && eval "python -m conceptnet5.readers.$parser $dir $out ${prefix}${parser}.nt"

rule parse_wiktionary
  command =  python -m conceptnet5.readers.wiktionary -l $lang $in $out

rule msgpack_to_csv
  command = python -m conceptnet5.builders.msgpack_to_csv $in $out

rule collate
  command = cat $in | python -m conceptnet5.builders.distribute_edges -o $dir -n $count

rule count_and_rank
  command = LC_ALL=C sort $in | uniq > $out

rule combine_assertions
  command = python -m conceptnet5.builders.combine_assertions $in $out -l /l/CC/By-SA

rule msgpack_to_assoc
  command = python -m conceptnet5.builders.msgpack_to_assoc $in $out

rule build_db
  command = if [ ! -e ~/.conceptnet5 ]; then ln -s $$(readlink -f $prefix) ~/.conceptnet5; fi && python -m conceptnet5.builders.index_assertions $$(dirname $$(echo $in | cut -d ' ' -f1)) $basename --input-shards $num

rule relation_stats
  command = cut -f 2 $in | LC_ALL=C sort | LC_ALL=C uniq -c | LC_ALL=C sort -nbr > $out

rule dataset_stats
  command = cut -f $fields $in > $out

rule dataset_vs_language_stats
  command = cat $in | sed -r 's:((/[^/\t]+){2})[^\t]*:\1:g' | LC_ALL=C sort | LC_ALL=C uniq -c > $out

rule more_stats
  command = cut -f 2,3,4,9 $in | sed -r 's:((/[^/\t]+){2})[^\t]*:\1:g' | LC_ALL=C sort | LC_ALL=C uniq -c | LC_ALL=C sort -nbr > $out

rule reduce_assoc
  command = python -m conceptnet5.builders.reduce_assoc $$(dirname $$(echo $in | cut -d ' ' -f1))

rule build_assoc
  command = python -m conceptnet5.builders.assoc_to_vector_space $in $$(dirname $$(echo $out | cut -d ' ' -f1))
  pool = memory_hogs

rule msgpack_to_json
  command = python -m conceptnet5.builders.msgpack_to_json $in $out

rule compress_tar
  command = tar jcvf $out $in

rule upload
  command = rsync -Pavz $$(dirname $$(echo $in | cut -d ' ' -f1)) conceptnet5.media.mit.edu:/data/downloads

# download_tar
build data/conceptnet5_raw_data_5.4.tar.bz2: download 
  prefix = data/
  url = http://conceptnet5.media.mit.edu/downloads/v5.4/conceptnet5_raw_data_5.4.tar.bz2

# untar
build data/raw/nadya/nadya-2014.csv data/raw/wordnet/wordnet-synset.ttl data/raw/wordnet/wordnet-glossary.ttl data/raw/wordnet/full/wordnet-wordsense-synset-relations.ttl data/raw/wordnet/wordnet-attribute.ttl data/raw/wordnet/wordnet-causes.ttl data/raw/wordnet/wordnet-classifiedby.ttl data/raw/wordnet/wordnet-entailment.ttl data/raw/wordnet/wordnet-hyponym.ttl data/raw/wordnet/wordnet-instances.ttl data/raw/wordnet/wordnet-membermeronym.ttl data/raw/wordnet/wordnet-partmeronym.ttl data/raw/wordnet/wordnet-sameverbgroupas.ttl data/raw/wordnet/wordnet-similarity.ttl data/raw/wordnet/wordnet-substancemeronym.ttl data/raw/wordnet/full/wordnet-antonym.ttl data/raw/wordnet/full/wordnet-derivationallyrelated.ttl data/raw/wordnet/full/wordnet-participleof.ttl data/raw/wordnet/full/wordnet-pertainsto.ttl data/raw/wordnet/full/wordnet-seealso.ttl data/raw/dbpedia/mappingbased_properties_en.nt data/raw/dbpedia/instance_types_en.nt data/raw/jmdict/JMdict.xml data/raw/globalmind/GMFrame.yaml data/raw/globalmind/GMTranslation.yaml data/raw/globalmind/GMAssertion.yaml data/raw/globalmind/GMUser.yaml data/raw/verbosity/verbosity.txt data/raw/wiktionary/enwiktionary.xml data/raw/wiktionary/dewiktionary.xml data/raw/wiktionary/jawiktionary.xml data/raw/conceptnet_zh/conceptnet_zh_part1.txt data/raw/conceptnet_zh/conceptnet_zh_part2.txt data/raw/conceptnet_zh/conceptnet_zh_part3.txt data/raw/conceptnet_zh/conceptnet_zh_part4.txt data/raw/conceptnet_zh/conceptnet_zh_part5.txt data/raw/conceptnet_zh/conceptnet_zh_part6.txt data/raw/conceptnet_zh/conceptnet_zh_part7.txt data/raw/conceptnet_zh/conceptnet_zh_part8.txt data/raw/conceptnet_zh/conceptnet_zh_part9.txt data/raw/conceptnet_zh/conceptnet_zh_part10.txt data/raw/conceptnet_zh/conceptnet_zh_part11.txt data/raw/conceptnet_zh/conceptnet_zh_part12.txt data/raw/conceptnet_zh/conceptnet_zh_api.txt data/raw/umbel/umbel.nt data/raw/umbel/umbel_links.nt data/raw/conceptnet4/conceptnet4_flat_0.jsons data/raw/conceptnet4/conceptnet4_flat_1.jsons data/raw/conceptnet4/conceptnet4_flat_2.jsons data/raw/conceptnet4/conceptnet4_flat_3.jsons data/raw/conceptnet4/conceptnet4_flat_4.jsons data/raw/conceptnet4/conceptnet4_flat_5.jsons data/raw/conceptnet4/conceptnet4_flat_6.jsons data/raw/conceptnet4/conceptnet4_flat_7.jsons data/raw/conceptnet4/conceptnet4_flat_8.jsons data/raw/conceptnet4/conceptnet4_flat_9.jsons: extract_tar data/conceptnet5_raw_data_5.4.tar.bz2
  prefix = data/

# parse wordnet
build data/edges/wordnet/wordnet.msgpack: parse_sw data/raw/wordnet/wordnet-synset.ttl data/raw/wordnet/wordnet-glossary.ttl data/raw/wordnet/full/wordnet-wordsense-synset-relations.ttl data/raw/wordnet/wordnet-attribute.ttl data/raw/wordnet/wordnet-causes.ttl data/raw/wordnet/wordnet-classifiedby.ttl data/raw/wordnet/wordnet-entailment.ttl data/raw/wordnet/wordnet-hyponym.ttl data/raw/wordnet/wordnet-instances.ttl data/raw/wordnet/wordnet-membermeronym.ttl data/raw/wordnet/wordnet-partmeronym.ttl data/raw/wordnet/wordnet-sameverbgroupas.ttl data/raw/wordnet/wordnet-similarity.ttl data/raw/wordnet/wordnet-substancemeronym.ttl data/raw/wordnet/full/wordnet-antonym.ttl data/raw/wordnet/full/wordnet-derivationallyrelated.ttl data/raw/wordnet/full/wordnet-participleof.ttl data/raw/wordnet/full/wordnet-pertainsto.ttl data/raw/wordnet/full/wordnet-seealso.ttl
  prefix = data/sw_map/
  parser = wordnet
  dir = data/raw/wordnet

# parse umbel
build data/edges/umbel/umbel.msgpack: parse_sw data/raw/umbel/umbel.nt data/raw/umbel/umbel_links.nt
  prefix = data/sw_map/
  parser = umbel
  dir = data/raw/umbel

# parse jmdict
build data/edges/jmdict/jmdict.msgpack: parse data/raw/jmdict/JMdict.xml
  parser = jmdict

# parse verbosity
build data/edges/verbosity/verbosity.msgpack: parse data/raw/verbosity/verbosity.txt
  parser = verbosity

# parse nadya
build data/edges/nadya/nadya.msgpack: parse data/raw/nadya/nadya-2014.csv
  parser = nadya

# parse globalmind
build data/edges/globalmind/globalmind.msgpack: parse_globalmind data/raw/globalmind/GMFrame.yaml data/raw/globalmind/GMTranslation.yaml data/raw/globalmind/GMAssertion.yaml data/raw/globalmind/GMUser.yaml
  parser = globalmind

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_0.jsons
build data/edges/conceptnet4/conceptnet4_flat_0.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_0.jsons
  parser = conceptnet4

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_1.jsons
build data/edges/conceptnet4/conceptnet4_flat_1.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_1.jsons
  parser = conceptnet4

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_2.jsons
build data/edges/conceptnet4/conceptnet4_flat_2.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_2.jsons
  parser = conceptnet4

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_3.jsons
build data/edges/conceptnet4/conceptnet4_flat_3.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_3.jsons
  parser = conceptnet4

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_4.jsons
build data/edges/conceptnet4/conceptnet4_flat_4.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_4.jsons
  parser = conceptnet4

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_5.jsons
build data/edges/conceptnet4/conceptnet4_flat_5.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_5.jsons
  parser = conceptnet4

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_6.jsons
build data/edges/conceptnet4/conceptnet4_flat_6.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_6.jsons
  parser = conceptnet4

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_7.jsons
build data/edges/conceptnet4/conceptnet4_flat_7.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_7.jsons
  parser = conceptnet4

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_8.jsons
build data/edges/conceptnet4/conceptnet4_flat_8.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_8.jsons
  parser = conceptnet4

# parse conceptnet4 data/raw/conceptnet4/conceptnet4_flat_9.jsons
build data/edges/conceptnet4/conceptnet4_flat_9.msgpack: parse data/raw/conceptnet4/conceptnet4_flat_9.jsons
  parser = conceptnet4

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part1.txt
build data/edges/conceptnet_zh/conceptnet_zh_part1.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part1.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part2.txt
build data/edges/conceptnet_zh/conceptnet_zh_part2.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part2.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part3.txt
build data/edges/conceptnet_zh/conceptnet_zh_part3.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part3.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part4.txt
build data/edges/conceptnet_zh/conceptnet_zh_part4.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part4.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part5.txt
build data/edges/conceptnet_zh/conceptnet_zh_part5.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part5.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part6.txt
build data/edges/conceptnet_zh/conceptnet_zh_part6.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part6.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part7.txt
build data/edges/conceptnet_zh/conceptnet_zh_part7.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part7.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part8.txt
build data/edges/conceptnet_zh/conceptnet_zh_part8.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part8.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part9.txt
build data/edges/conceptnet_zh/conceptnet_zh_part9.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part9.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part10.txt
build data/edges/conceptnet_zh/conceptnet_zh_part10.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part10.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part11.txt
build data/edges/conceptnet_zh/conceptnet_zh_part11.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part11.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_part12.txt
build data/edges/conceptnet_zh/conceptnet_zh_part12.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_part12.txt
  parser = ptt_petgame

# parse conceptnet_zh data/raw/conceptnet_zh/conceptnet_zh_api.txt
build data/edges/conceptnet_zh/conceptnet_zh_api.msgpack: parse data/raw/conceptnet_zh/conceptnet_zh_api.txt
  parser = ptt_petgame

# extract en wiktionary
build data/extracted/wiktionary/en/wiktionary_00.msgpack data/extracted/wiktionary/en/wiktionary_01.msgpack data/extracted/wiktionary/en/wiktionary_02.msgpack data/extracted/wiktionary/en/wiktionary_03.msgpack data/extracted/wiktionary/en/wiktionary_04.msgpack data/extracted/wiktionary/en/wiktionary_05.msgpack data/extracted/wiktionary/en/wiktionary_06.msgpack data/extracted/wiktionary/en/wiktionary_07.msgpack data/extracted/wiktionary/en/wiktionary_08.msgpack data/extracted/wiktionary/en/wiktionary_09.msgpack data/extracted/wiktionary/en/wiktionary_10.msgpack data/extracted/wiktionary/en/wiktionary_11.msgpack data/extracted/wiktionary/en/wiktionary_12.msgpack data/extracted/wiktionary/en/wiktionary_13.msgpack data/extracted/wiktionary/en/wiktionary_14.msgpack data/extracted/wiktionary/en/wiktionary_15.msgpack data/extracted/wiktionary/en/wiktionary_16.msgpack data/extracted/wiktionary/en/wiktionary_17.msgpack data/extracted/wiktionary/en/wiktionary_18.msgpack data/extracted/wiktionary/en/wiktionary_19.msgpack: extract_wiktionary data/raw/wiktionary/enwiktionary.xml
  dir = data/extracted/wiktionary/en/
  lang = en

# extract de wiktionary
build data/extracted/wiktionary/de/wiktionary_00.msgpack data/extracted/wiktionary/de/wiktionary_01.msgpack data/extracted/wiktionary/de/wiktionary_02.msgpack data/extracted/wiktionary/de/wiktionary_03.msgpack data/extracted/wiktionary/de/wiktionary_04.msgpack data/extracted/wiktionary/de/wiktionary_05.msgpack data/extracted/wiktionary/de/wiktionary_06.msgpack data/extracted/wiktionary/de/wiktionary_07.msgpack data/extracted/wiktionary/de/wiktionary_08.msgpack data/extracted/wiktionary/de/wiktionary_09.msgpack data/extracted/wiktionary/de/wiktionary_10.msgpack data/extracted/wiktionary/de/wiktionary_11.msgpack data/extracted/wiktionary/de/wiktionary_12.msgpack data/extracted/wiktionary/de/wiktionary_13.msgpack data/extracted/wiktionary/de/wiktionary_14.msgpack data/extracted/wiktionary/de/wiktionary_15.msgpack data/extracted/wiktionary/de/wiktionary_16.msgpack data/extracted/wiktionary/de/wiktionary_17.msgpack data/extracted/wiktionary/de/wiktionary_18.msgpack data/extracted/wiktionary/de/wiktionary_19.msgpack: extract_wiktionary data/raw/wiktionary/dewiktionary.xml
  dir = data/extracted/wiktionary/de/
  lang = de

# parse en wiktionary 00
build data/edges/wiktionary/en/wiktionary_00.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_00.msgpack
  lang = en

# parse en wiktionary 01
build data/edges/wiktionary/en/wiktionary_01.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_01.msgpack
  lang = en

# parse en wiktionary 02
build data/edges/wiktionary/en/wiktionary_02.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_02.msgpack
  lang = en

# parse en wiktionary 03
build data/edges/wiktionary/en/wiktionary_03.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_03.msgpack
  lang = en

# parse en wiktionary 04
build data/edges/wiktionary/en/wiktionary_04.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_04.msgpack
  lang = en

# parse en wiktionary 05
build data/edges/wiktionary/en/wiktionary_05.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_05.msgpack
  lang = en

# parse en wiktionary 06
build data/edges/wiktionary/en/wiktionary_06.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_06.msgpack
  lang = en

# parse en wiktionary 07
build data/edges/wiktionary/en/wiktionary_07.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_07.msgpack
  lang = en

# parse en wiktionary 08
build data/edges/wiktionary/en/wiktionary_08.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_08.msgpack
  lang = en

# parse en wiktionary 09
build data/edges/wiktionary/en/wiktionary_09.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_09.msgpack
  lang = en

# parse en wiktionary 10
build data/edges/wiktionary/en/wiktionary_10.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_10.msgpack
  lang = en

# parse en wiktionary 11
build data/edges/wiktionary/en/wiktionary_11.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_11.msgpack
  lang = en

# parse en wiktionary 12
build data/edges/wiktionary/en/wiktionary_12.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_12.msgpack
  lang = en

# parse en wiktionary 13
build data/edges/wiktionary/en/wiktionary_13.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_13.msgpack
  lang = en

# parse en wiktionary 14
build data/edges/wiktionary/en/wiktionary_14.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_14.msgpack
  lang = en

# parse en wiktionary 15
build data/edges/wiktionary/en/wiktionary_15.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_15.msgpack
  lang = en

# parse en wiktionary 16
build data/edges/wiktionary/en/wiktionary_16.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_16.msgpack
  lang = en

# parse en wiktionary 17
build data/edges/wiktionary/en/wiktionary_17.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_17.msgpack
  lang = en

# parse en wiktionary 18
build data/edges/wiktionary/en/wiktionary_18.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_18.msgpack
  lang = en

# parse en wiktionary 19
build data/edges/wiktionary/en/wiktionary_19.msgpack: parse_wiktionary data/extracted/wiktionary/en/wiktionary_19.msgpack
  lang = en

# parse de wiktionary 00
build data/edges/wiktionary/de/wiktionary_00.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_00.msgpack
  lang = de

# parse de wiktionary 01
build data/edges/wiktionary/de/wiktionary_01.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_01.msgpack
  lang = de

# parse de wiktionary 02
build data/edges/wiktionary/de/wiktionary_02.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_02.msgpack
  lang = de

# parse de wiktionary 03
build data/edges/wiktionary/de/wiktionary_03.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_03.msgpack
  lang = de

# parse de wiktionary 04
build data/edges/wiktionary/de/wiktionary_04.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_04.msgpack
  lang = de

# parse de wiktionary 05
build data/edges/wiktionary/de/wiktionary_05.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_05.msgpack
  lang = de

# parse de wiktionary 06
build data/edges/wiktionary/de/wiktionary_06.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_06.msgpack
  lang = de

# parse de wiktionary 07
build data/edges/wiktionary/de/wiktionary_07.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_07.msgpack
  lang = de

# parse de wiktionary 08
build data/edges/wiktionary/de/wiktionary_08.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_08.msgpack
  lang = de

# parse de wiktionary 09
build data/edges/wiktionary/de/wiktionary_09.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_09.msgpack
  lang = de

# parse de wiktionary 10
build data/edges/wiktionary/de/wiktionary_10.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_10.msgpack
  lang = de

# parse de wiktionary 11
build data/edges/wiktionary/de/wiktionary_11.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_11.msgpack
  lang = de

# parse de wiktionary 12
build data/edges/wiktionary/de/wiktionary_12.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_12.msgpack
  lang = de

# parse de wiktionary 13
build data/edges/wiktionary/de/wiktionary_13.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_13.msgpack
  lang = de

# parse de wiktionary 14
build data/edges/wiktionary/de/wiktionary_14.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_14.msgpack
  lang = de

# parse de wiktionary 15
build data/edges/wiktionary/de/wiktionary_15.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_15.msgpack
  lang = de

# parse de wiktionary 16
build data/edges/wiktionary/de/wiktionary_16.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_16.msgpack
  lang = de

# parse de wiktionary 17
build data/edges/wiktionary/de/wiktionary_17.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_17.msgpack
  lang = de

# parse de wiktionary 18
build data/edges/wiktionary/de/wiktionary_18.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_18.msgpack
  lang = de

# parse de wiktionary 19
build data/edges/wiktionary/de/wiktionary_19.msgpack: parse_wiktionary data/extracted/wiktionary/de/wiktionary_19.msgpack
  lang = de

# parse dbpedia properties
build data/edges/dbpedia/properties.msgpack data/sw_map/dbpedia_properties.nt: parse_dbpedia data/raw/dbpedia/mappingbased_properties_en.nt

# parse dbpedia instances
build data/edges/dbpedia/instances.msgpack data/sw_map/dbpedia_instances.nt: parse_dbpedia data/raw/dbpedia/instance_types_en.nt

# msgpack to csv data/edges/wordnet/wordnet.msgpack
build data/edges/wordnet/wordnet.csv: msgpack_to_csv data/edges/wordnet/wordnet.msgpack

# msgpack to csv data/edges/umbel/umbel.msgpack
build data/edges/umbel/umbel.csv: msgpack_to_csv data/edges/umbel/umbel.msgpack

# msgpack to csv data/edges/jmdict/jmdict.msgpack
build data/edges/jmdict/jmdict.csv: msgpack_to_csv data/edges/jmdict/jmdict.msgpack

# msgpack to csv data/edges/verbosity/verbosity.msgpack
build data/edges/verbosity/verbosity.csv: msgpack_to_csv data/edges/verbosity/verbosity.msgpack

# msgpack to csv data/edges/nadya/nadya.msgpack
build data/edges/nadya/nadya.csv: msgpack_to_csv data/edges/nadya/nadya.msgpack

# msgpack to csv data/edges/globalmind/globalmind.msgpack
build data/edges/globalmind/globalmind.csv: msgpack_to_csv data/edges/globalmind/globalmind.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_0.msgpack
build data/edges/conceptnet4/conceptnet4_flat_0.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_0.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_1.msgpack
build data/edges/conceptnet4/conceptnet4_flat_1.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_1.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_2.msgpack
build data/edges/conceptnet4/conceptnet4_flat_2.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_2.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_3.msgpack
build data/edges/conceptnet4/conceptnet4_flat_3.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_3.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_4.msgpack
build data/edges/conceptnet4/conceptnet4_flat_4.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_4.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_5.msgpack
build data/edges/conceptnet4/conceptnet4_flat_5.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_5.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_6.msgpack
build data/edges/conceptnet4/conceptnet4_flat_6.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_6.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_7.msgpack
build data/edges/conceptnet4/conceptnet4_flat_7.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_7.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_8.msgpack
build data/edges/conceptnet4/conceptnet4_flat_8.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_8.msgpack

# msgpack to csv data/edges/conceptnet4/conceptnet4_flat_9.msgpack
build data/edges/conceptnet4/conceptnet4_flat_9.csv: msgpack_to_csv data/edges/conceptnet4/conceptnet4_flat_9.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part1.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part1.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part1.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part2.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part2.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part2.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part3.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part3.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part3.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part4.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part4.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part4.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part5.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part5.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part5.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part6.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part6.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part6.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part7.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part7.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part7.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part8.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part8.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part8.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part9.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part9.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part9.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part10.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part10.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part10.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part11.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part11.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part11.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_part12.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_part12.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_part12.msgpack

# msgpack to csv data/edges/conceptnet_zh/conceptnet_zh_api.msgpack
build data/edges/conceptnet_zh/conceptnet_zh_api.csv: msgpack_to_csv data/edges/conceptnet_zh/conceptnet_zh_api.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_00.msgpack
build data/edges/wiktionary/en/wiktionary_00.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_00.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_01.msgpack
build data/edges/wiktionary/en/wiktionary_01.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_01.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_02.msgpack
build data/edges/wiktionary/en/wiktionary_02.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_02.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_03.msgpack
build data/edges/wiktionary/en/wiktionary_03.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_03.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_04.msgpack
build data/edges/wiktionary/en/wiktionary_04.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_04.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_05.msgpack
build data/edges/wiktionary/en/wiktionary_05.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_05.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_06.msgpack
build data/edges/wiktionary/en/wiktionary_06.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_06.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_07.msgpack
build data/edges/wiktionary/en/wiktionary_07.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_07.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_08.msgpack
build data/edges/wiktionary/en/wiktionary_08.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_08.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_09.msgpack
build data/edges/wiktionary/en/wiktionary_09.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_09.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_10.msgpack
build data/edges/wiktionary/en/wiktionary_10.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_10.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_11.msgpack
build data/edges/wiktionary/en/wiktionary_11.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_11.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_12.msgpack
build data/edges/wiktionary/en/wiktionary_12.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_12.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_13.msgpack
build data/edges/wiktionary/en/wiktionary_13.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_13.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_14.msgpack
build data/edges/wiktionary/en/wiktionary_14.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_14.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_15.msgpack
build data/edges/wiktionary/en/wiktionary_15.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_15.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_16.msgpack
build data/edges/wiktionary/en/wiktionary_16.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_16.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_17.msgpack
build data/edges/wiktionary/en/wiktionary_17.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_17.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_18.msgpack
build data/edges/wiktionary/en/wiktionary_18.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_18.msgpack

# msgpack to csv data/edges/wiktionary/en/wiktionary_19.msgpack
build data/edges/wiktionary/en/wiktionary_19.csv: msgpack_to_csv data/edges/wiktionary/en/wiktionary_19.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_00.msgpack
build data/edges/wiktionary/de/wiktionary_00.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_00.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_01.msgpack
build data/edges/wiktionary/de/wiktionary_01.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_01.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_02.msgpack
build data/edges/wiktionary/de/wiktionary_02.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_02.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_03.msgpack
build data/edges/wiktionary/de/wiktionary_03.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_03.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_04.msgpack
build data/edges/wiktionary/de/wiktionary_04.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_04.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_05.msgpack
build data/edges/wiktionary/de/wiktionary_05.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_05.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_06.msgpack
build data/edges/wiktionary/de/wiktionary_06.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_06.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_07.msgpack
build data/edges/wiktionary/de/wiktionary_07.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_07.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_08.msgpack
build data/edges/wiktionary/de/wiktionary_08.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_08.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_09.msgpack
build data/edges/wiktionary/de/wiktionary_09.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_09.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_10.msgpack
build data/edges/wiktionary/de/wiktionary_10.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_10.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_11.msgpack
build data/edges/wiktionary/de/wiktionary_11.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_11.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_12.msgpack
build data/edges/wiktionary/de/wiktionary_12.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_12.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_13.msgpack
build data/edges/wiktionary/de/wiktionary_13.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_13.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_14.msgpack
build data/edges/wiktionary/de/wiktionary_14.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_14.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_15.msgpack
build data/edges/wiktionary/de/wiktionary_15.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_15.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_16.msgpack
build data/edges/wiktionary/de/wiktionary_16.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_16.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_17.msgpack
build data/edges/wiktionary/de/wiktionary_17.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_17.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_18.msgpack
build data/edges/wiktionary/de/wiktionary_18.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_18.msgpack

# msgpack to csv data/edges/wiktionary/de/wiktionary_19.msgpack
build data/edges/wiktionary/de/wiktionary_19.csv: msgpack_to_csv data/edges/wiktionary/de/wiktionary_19.msgpack

# msgpack to csv data/edges/dbpedia/properties.msgpack
build data/edges/dbpedia/properties.csv: msgpack_to_csv data/edges/dbpedia/properties.msgpack

# msgpack to csv data/edges/dbpedia/instances.msgpack
build data/edges/dbpedia/instances.csv: msgpack_to_csv data/edges/dbpedia/instances.msgpack

# collate
build data/edges/split/edges_00.csv data/edges/split/edges_01.csv data/edges/split/edges_02.csv data/edges/split/edges_03.csv data/edges/split/edges_04.csv data/edges/split/edges_05.csv data/edges/split/edges_06.csv data/edges/split/edges_07.csv: collate data/edges/wordnet/wordnet.csv data/edges/umbel/umbel.csv data/edges/jmdict/jmdict.csv data/edges/verbosity/verbosity.csv data/edges/nadya/nadya.csv data/edges/globalmind/globalmind.csv data/edges/conceptnet4/conceptnet4_flat_0.csv data/edges/conceptnet4/conceptnet4_flat_1.csv data/edges/conceptnet4/conceptnet4_flat_2.csv data/edges/conceptnet4/conceptnet4_flat_3.csv data/edges/conceptnet4/conceptnet4_flat_4.csv data/edges/conceptnet4/conceptnet4_flat_5.csv data/edges/conceptnet4/conceptnet4_flat_6.csv data/edges/conceptnet4/conceptnet4_flat_7.csv data/edges/conceptnet4/conceptnet4_flat_8.csv data/edges/conceptnet4/conceptnet4_flat_9.csv data/edges/conceptnet_zh/conceptnet_zh_part1.csv data/edges/conceptnet_zh/conceptnet_zh_part2.csv data/edges/conceptnet_zh/conceptnet_zh_part3.csv data/edges/conceptnet_zh/conceptnet_zh_part4.csv data/edges/conceptnet_zh/conceptnet_zh_part5.csv data/edges/conceptnet_zh/conceptnet_zh_part6.csv data/edges/conceptnet_zh/conceptnet_zh_part7.csv data/edges/conceptnet_zh/conceptnet_zh_part8.csv data/edges/conceptnet_zh/conceptnet_zh_part9.csv data/edges/conceptnet_zh/conceptnet_zh_part10.csv data/edges/conceptnet_zh/conceptnet_zh_part11.csv data/edges/conceptnet_zh/conceptnet_zh_part12.csv data/edges/conceptnet_zh/conceptnet_zh_api.csv data/edges/wiktionary/en/wiktionary_00.csv data/edges/wiktionary/en/wiktionary_01.csv data/edges/wiktionary/en/wiktionary_02.csv data/edges/wiktionary/en/wiktionary_03.csv data/edges/wiktionary/en/wiktionary_04.csv data/edges/wiktionary/en/wiktionary_05.csv data/edges/wiktionary/en/wiktionary_06.csv data/edges/wiktionary/en/wiktionary_07.csv data/edges/wiktionary/en/wiktionary_08.csv data/edges/wiktionary/en/wiktionary_09.csv data/edges/wiktionary/en/wiktionary_10.csv data/edges/wiktionary/en/wiktionary_11.csv data/edges/wiktionary/en/wiktionary_12.csv data/edges/wiktionary/en/wiktionary_13.csv data/edges/wiktionary/en/wiktionary_14.csv data/edges/wiktionary/en/wiktionary_15.csv data/edges/wiktionary/en/wiktionary_16.csv data/edges/wiktionary/en/wiktionary_17.csv data/edges/wiktionary/en/wiktionary_18.csv data/edges/wiktionary/en/wiktionary_19.csv data/edges/wiktionary/de/wiktionary_00.csv data/edges/wiktionary/de/wiktionary_01.csv data/edges/wiktionary/de/wiktionary_02.csv data/edges/wiktionary/de/wiktionary_03.csv data/edges/wiktionary/de/wiktionary_04.csv data/edges/wiktionary/de/wiktionary_05.csv data/edges/wiktionary/de/wiktionary_06.csv data/edges/wiktionary/de/wiktionary_07.csv data/edges/wiktionary/de/wiktionary_08.csv data/edges/wiktionary/de/wiktionary_09.csv data/edges/wiktionary/de/wiktionary_10.csv data/edges/wiktionary/de/wiktionary_11.csv data/edges/wiktionary/de/wiktionary_12.csv data/edges/wiktionary/de/wiktionary_13.csv data/edges/wiktionary/de/wiktionary_14.csv data/edges/wiktionary/de/wiktionary_15.csv data/edges/wiktionary/de/wiktionary_16.csv data/edges/wiktionary/de/wiktionary_17.csv data/edges/wiktionary/de/wiktionary_18.csv data/edges/wiktionary/de/wiktionary_19.csv data/edges/dbpedia/properties.csv data/edges/dbpedia/instances.csv
  count = 8
  dir = data/edges/split/

# count and rank data/edges/split/edges_00.csv
build data/edges/sorted/edges_00.csv: count_and_rank data/edges/split/edges_00.csv

# count and rank data/edges/split/edges_01.csv
build data/edges/sorted/edges_01.csv: count_and_rank data/edges/split/edges_01.csv

# count and rank data/edges/split/edges_02.csv
build data/edges/sorted/edges_02.csv: count_and_rank data/edges/split/edges_02.csv

# count and rank data/edges/split/edges_03.csv
build data/edges/sorted/edges_03.csv: count_and_rank data/edges/split/edges_03.csv

# count and rank data/edges/split/edges_04.csv
build data/edges/sorted/edges_04.csv: count_and_rank data/edges/split/edges_04.csv

# count and rank data/edges/split/edges_05.csv
build data/edges/sorted/edges_05.csv: count_and_rank data/edges/split/edges_05.csv

# count and rank data/edges/split/edges_06.csv
build data/edges/sorted/edges_06.csv: count_and_rank data/edges/split/edges_06.csv

# count and rank data/edges/split/edges_07.csv
build data/edges/sorted/edges_07.csv: count_and_rank data/edges/split/edges_07.csv

# combine assertions data/edges/sorted/edges_00.csv
build data/assertions/part_00.msgpack: combine_assertions data/edges/sorted/edges_00.csv

# combine assertions data/edges/sorted/edges_01.csv
build data/assertions/part_01.msgpack: combine_assertions data/edges/sorted/edges_01.csv

# combine assertions data/edges/sorted/edges_02.csv
build data/assertions/part_02.msgpack: combine_assertions data/edges/sorted/edges_02.csv

# combine assertions data/edges/sorted/edges_03.csv
build data/assertions/part_03.msgpack: combine_assertions data/edges/sorted/edges_03.csv

# combine assertions data/edges/sorted/edges_04.csv
build data/assertions/part_04.msgpack: combine_assertions data/edges/sorted/edges_04.csv

# combine assertions data/edges/sorted/edges_05.csv
build data/assertions/part_05.msgpack: combine_assertions data/edges/sorted/edges_05.csv

# combine assertions data/edges/sorted/edges_06.csv
build data/assertions/part_06.msgpack: combine_assertions data/edges/sorted/edges_06.csv

# combine assertions data/edges/sorted/edges_07.csv
build data/assertions/part_07.msgpack: combine_assertions data/edges/sorted/edges_07.csv

# build db
build data/db/assertions.db.0 data/db/assertions.db.1 data/db/assertions.db.2 data/db/assertions.db.3 data/db/assertions.db.4 data/db/assertions.db.5 data/db/assertions.db.6 data/db/assertions.db.7: build_db data/assertions/part_00.msgpack data/assertions/part_01.msgpack data/assertions/part_02.msgpack data/assertions/part_03.msgpack data/assertions/part_04.msgpack data/assertions/part_05.msgpack data/assertions/part_06.msgpack data/assertions/part_07.msgpack
  prefix = data/
  num = 8
  basename = data/db/assertions.db

# msgpack to assoc data/assertions/part_00.msgpack
build data/assoc/part_00.csv: msgpack_to_assoc data/assertions/part_00.msgpack

# msgpack to assoc data/assertions/part_01.msgpack
build data/assoc/part_01.csv: msgpack_to_assoc data/assertions/part_01.msgpack

# msgpack to assoc data/assertions/part_02.msgpack
build data/assoc/part_02.csv: msgpack_to_assoc data/assertions/part_02.msgpack

# msgpack to assoc data/assertions/part_03.msgpack
build data/assoc/part_03.csv: msgpack_to_assoc data/assertions/part_03.msgpack

# msgpack to assoc data/assertions/part_04.msgpack
build data/assoc/part_04.csv: msgpack_to_assoc data/assertions/part_04.msgpack

# msgpack to assoc data/assertions/part_05.msgpack
build data/assoc/part_05.csv: msgpack_to_assoc data/assertions/part_05.msgpack

# msgpack to assoc data/assertions/part_06.msgpack
build data/assoc/part_06.csv: msgpack_to_assoc data/assertions/part_06.msgpack

# msgpack to assoc data/assertions/part_07.msgpack
build data/assoc/part_07.csv: msgpack_to_assoc data/assertions/part_07.msgpack

# relation stats
build data/stats/relations.txt: relation_stats data/edges/sorted/edges_00.csv data/edges/sorted/edges_01.csv data/edges/sorted/edges_02.csv data/edges/sorted/edges_03.csv data/edges/sorted/edges_04.csv data/edges/sorted/edges_05.csv data/edges/sorted/edges_06.csv data/edges/sorted/edges_07.csv

# dataset stats left
build data/stats/concepts_left_datasets.txt: dataset_stats data/edges/sorted/edges_00.csv data/edges/sorted/edges_01.csv data/edges/sorted/edges_02.csv data/edges/sorted/edges_03.csv data/edges/sorted/edges_04.csv data/edges/sorted/edges_05.csv data/edges/sorted/edges_06.csv data/edges/sorted/edges_07.csv
  fields = 3,9

# dataset stats right
build data/stats/concepts_right_datasets.txt: dataset_stats data/edges/sorted/edges_00.csv data/edges/sorted/edges_01.csv data/edges/sorted/edges_02.csv data/edges/sorted/edges_03.csv data/edges/sorted/edges_04.csv data/edges/sorted/edges_05.csv data/edges/sorted/edges_06.csv data/edges/sorted/edges_07.csv
  fields = 4,9

# dataset vs language
build data/stats/dataset_vs_language.txt: dataset_vs_language_stats data/stats/concepts_left_datasets.txt data/stats/concepts_right_datasets.txt

# more stats
build data/stats/morestats.txt: more_stats data/edges/sorted/edges_00.csv data/edges/sorted/edges_01.csv data/edges/sorted/edges_02.csv data/edges/sorted/edges_03.csv data/edges/sorted/edges_04.csv data/edges/sorted/edges_05.csv data/edges/sorted/edges_06.csv data/edges/sorted/edges_07.csv

# reduce vector space input
build data/assoc/reduced.csv: reduce_assoc data/assoc/part_00.csv data/assoc/part_01.csv data/assoc/part_02.csv data/assoc/part_03.csv data/assoc/part_04.csv data/assoc/part_05.csv data/assoc/part_06.csv data/assoc/part_07.csv

# build vector space
#build data/assoc/assoc-space-5.4/u.npy data/assoc/assoc-space-5.4/sigma.npy data/assoc/assoc-space-5.4/assoc.npy data/assoc/assoc-space-5.4/labels.txt: build_assoc data/assoc/reduced.csv

# to jsons data/assertions/part_00.msgpack
build data/assertions/part_00.jsons: msgpack_to_json data/assertions/part_00.msgpack

# to csv data/assertions/part_00.msgpack
build data/assertions/part_00.csv: msgpack_to_csv data/assertions/part_00.msgpack

# to jsons data/assertions/part_01.msgpack
build data/assertions/part_01.jsons: msgpack_to_json data/assertions/part_01.msgpack

# to csv data/assertions/part_01.msgpack
build data/assertions/part_01.csv: msgpack_to_csv data/assertions/part_01.msgpack

# to jsons data/assertions/part_02.msgpack
build data/assertions/part_02.jsons: msgpack_to_json data/assertions/part_02.msgpack

# to csv data/assertions/part_02.msgpack
build data/assertions/part_02.csv: msgpack_to_csv data/assertions/part_02.msgpack

# to jsons data/assertions/part_03.msgpack
build data/assertions/part_03.jsons: msgpack_to_json data/assertions/part_03.msgpack

# to csv data/assertions/part_03.msgpack
build data/assertions/part_03.csv: msgpack_to_csv data/assertions/part_03.msgpack

# to jsons data/assertions/part_04.msgpack
build data/assertions/part_04.jsons: msgpack_to_json data/assertions/part_04.msgpack

# to csv data/assertions/part_04.msgpack
build data/assertions/part_04.csv: msgpack_to_csv data/assertions/part_04.msgpack

# to jsons data/assertions/part_05.msgpack
build data/assertions/part_05.jsons: msgpack_to_json data/assertions/part_05.msgpack

# to csv data/assertions/part_05.msgpack
build data/assertions/part_05.csv: msgpack_to_csv data/assertions/part_05.msgpack

# to jsons data/assertions/part_06.msgpack
build data/assertions/part_06.jsons: msgpack_to_json data/assertions/part_06.msgpack

# to csv data/assertions/part_06.msgpack
build data/assertions/part_06.csv: msgpack_to_csv data/assertions/part_06.msgpack

# to jsons data/assertions/part_07.msgpack
build data/assertions/part_07.jsons: msgpack_to_json data/assertions/part_07.msgpack

# to csv data/assertions/part_07.msgpack
build data/assertions/part_07.csv: msgpack_to_csv data/assertions/part_07.msgpack

# compress data/dist/20161001/conceptnet5_raw_data_5.4.tar.bz2
build data/dist/20161001/conceptnet5_raw_data_5.4.tar.bz2: compress_tar data/raw/nadya/nadya-2014.csv data/raw/wordnet/wordnet-synset.ttl data/raw/wordnet/wordnet-glossary.ttl data/raw/wordnet/full/wordnet-wordsense-synset-relations.ttl data/raw/wordnet/wordnet-attribute.ttl data/raw/wordnet/wordnet-causes.ttl data/raw/wordnet/wordnet-classifiedby.ttl data/raw/wordnet/wordnet-entailment.ttl data/raw/wordnet/wordnet-hyponym.ttl data/raw/wordnet/wordnet-instances.ttl data/raw/wordnet/wordnet-membermeronym.ttl data/raw/wordnet/wordnet-partmeronym.ttl data/raw/wordnet/wordnet-sameverbgroupas.ttl data/raw/wordnet/wordnet-similarity.ttl data/raw/wordnet/wordnet-substancemeronym.ttl data/raw/wordnet/full/wordnet-antonym.ttl data/raw/wordnet/full/wordnet-derivationallyrelated.ttl data/raw/wordnet/full/wordnet-participleof.ttl data/raw/wordnet/full/wordnet-pertainsto.ttl data/raw/wordnet/full/wordnet-seealso.ttl data/raw/dbpedia/mappingbased_properties_en.nt data/raw/dbpedia/instance_types_en.nt data/raw/jmdict/JMdict.xml data/raw/globalmind/GMFrame.yaml data/raw/globalmind/GMTranslation.yaml data/raw/globalmind/GMAssertion.yaml data/raw/globalmind/GMUser.yaml data/raw/verbosity/verbosity.txt data/raw/wiktionary/enwiktionary.xml data/raw/wiktionary/dewiktionary.xml data/raw/wiktionary/jawiktionary.xml data/raw/conceptnet_zh/conceptnet_zh_part1.txt data/raw/conceptnet_zh/conceptnet_zh_part2.txt data/raw/conceptnet_zh/conceptnet_zh_part3.txt data/raw/conceptnet_zh/conceptnet_zh_part4.txt data/raw/conceptnet_zh/conceptnet_zh_part5.txt data/raw/conceptnet_zh/conceptnet_zh_part6.txt data/raw/conceptnet_zh/conceptnet_zh_part7.txt data/raw/conceptnet_zh/conceptnet_zh_part8.txt data/raw/conceptnet_zh/conceptnet_zh_part9.txt data/raw/conceptnet_zh/conceptnet_zh_part10.txt data/raw/conceptnet_zh/conceptnet_zh_part11.txt data/raw/conceptnet_zh/conceptnet_zh_part12.txt data/raw/conceptnet_zh/conceptnet_zh_api.txt data/raw/umbel/umbel.nt data/raw/umbel/umbel_links.nt data/raw/conceptnet4/conceptnet4_flat_0.jsons data/raw/conceptnet4/conceptnet4_flat_1.jsons data/raw/conceptnet4/conceptnet4_flat_2.jsons data/raw/conceptnet4/conceptnet4_flat_3.jsons data/raw/conceptnet4/conceptnet4_flat_4.jsons data/raw/conceptnet4/conceptnet4_flat_5.jsons data/raw/conceptnet4/conceptnet4_flat_6.jsons data/raw/conceptnet4/conceptnet4_flat_7.jsons data/raw/conceptnet4/conceptnet4_flat_8.jsons data/raw/conceptnet4/conceptnet4_flat_9.jsons

# compress data/dist/20161001/conceptnet5_flat_msgpack_5.4.tar.bz2
build data/dist/20161001/conceptnet5_flat_msgpack_5.4.tar.bz2: compress_tar data/assertions/part_00.msgpack data/assertions/part_01.msgpack data/assertions/part_02.msgpack data/assertions/part_03.msgpack data/assertions/part_04.msgpack data/assertions/part_05.msgpack data/assertions/part_06.msgpack data/assertions/part_07.msgpack

# compress data/dist/20161001/conceptnet5_flat_json_5.4.tar.bz2
build data/dist/20161001/conceptnet5_flat_json_5.4.tar.bz2: compress_tar data/assertions/part_00.jsons data/assertions/part_01.jsons data/assertions/part_02.jsons data/assertions/part_03.jsons data/assertions/part_04.jsons data/assertions/part_05.jsons data/assertions/part_06.jsons data/assertions/part_07.jsons

# compress data/dist/20161001/conceptnet5_flat_csv_5.4.tar.bz2
build data/dist/20161001/conceptnet5_flat_csv_5.4.tar.bz2: compress_tar data/assertions/part_00.csv data/assertions/part_01.csv data/assertions/part_02.csv data/assertions/part_03.csv data/assertions/part_04.csv data/assertions/part_05.csv data/assertions/part_06.csv data/assertions/part_07.csv

# compress data/dist/20161001/conceptnet5_db_5.4.tar.bz2
build data/dist/20161001/conceptnet5_db_5.4.tar.bz2: compress_tar data/db/assertions.db.0 data/db/assertions.db.1 data/db/assertions.db.2 data/db/assertions.db.3 data/db/assertions.db.4 data/db/assertions.db.5 data/db/assertions.db.6 data/db/assertions.db.7 data/assertions/part_00.msgpack data/assertions/part_01.msgpack data/assertions/part_02.msgpack data/assertions/part_03.msgpack data/assertions/part_04.msgpack data/assertions/part_05.msgpack data/assertions/part_06.msgpack data/assertions/part_07.msgpack

# compress data/dist/20161001/conceptnet5_vector_space_5.4.tar.bz2
#build data/dist/20161001/conceptnet5_vector_space_5.4.tar.bz2: compress_tar data/assoc/assoc-space-5.4/u.npy data/assoc/assoc-space-5.4/sigma.npy data/assoc/assoc-space-5.4/assoc.npy data/assoc/assoc-space-5.4/labels.txt

